{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "f4949159",
   "metadata": {},
   "outputs": [],
   "source": [
    "%matplotlib inline"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "83d834bc",
   "metadata": {},
   "outputs": [],
   "source": [
    "import scrapy\n",
    "from scrapy.crawler import CrawlerProcess\n",
    "import re\n",
    "import pandas as pd\n",
    "import matplotlib.pyplot as plt"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "52df723a",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Scrapy 2.6.1 - no active project\r\n",
      "\r\n",
      "Unknown command: crawl\r\n",
      "\r\n",
      "Use \"scrapy\" to see available commands\r\n"
     ]
    }
   ],
   "source": [
    "!scrapy crawl scraper_name.py"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "e869e106",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'/Users/dilyanyordanov/Documents/Softuni_AI/TEST/project'"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "pwd"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "519e8518",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "/Users/dilyanyordanov/Documents/Softuni_AI/TEST/project/jobscraper\n"
     ]
    }
   ],
   "source": [
    "cd '/Users/dilyanyordanov/Documents/Softuni_AI/TEST/project/jobscraper/'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "fb51a489",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'/Users/dilyanyordanov/Documents/Softuni_AI/TEST/project/jobscraper'"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "pwd"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "15505cc2",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "items.json  \u001b[34mjobscraper\u001b[m\u001b[m/ scrapy.cfg\r\n"
     ]
    }
   ],
   "source": [
    "ls"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 338,
   "id": "63f1b3d7",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "2023-03-13 21:06:34 [scrapy.utils.log] INFO: Scrapy 2.6.1 started (bot: jobscraper)\n",
      "2023-03-13 21:06:34 [scrapy.utils.log] INFO: Versions: lxml 4.9.2.0, libxml2 2.9.14, cssselect 1.1.0, parsel 1.6.0, w3lib 1.21.0, Twisted 22.2.0, Python 3.9.12 (main, Apr  5 2022, 01:53:17) - [Clang 12.0.0 ], pyOpenSSL 21.0.0 (OpenSSL 1.1.1o  3 May 2022), cryptography 3.4.8, Platform macOS-10.16-x86_64-i386-64bit\n",
      "2023-03-13 21:06:34 [scrapy.crawler] INFO: Overridden settings:\n",
      "{'BOT_NAME': 'jobscraper',\n",
      " 'NEWSPIDER_MODULE': 'jobscraper.spiders',\n",
      " 'ROBOTSTXT_OBEY': True,\n",
      " 'SPIDER_MODULES': ['jobscraper.spiders'],\n",
      " 'USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) '\n",
      "               'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 '\n",
      "               'Safari/537.36'}\n",
      "2023-03-13 21:06:34 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.selectreactor.SelectReactor\n",
      "2023-03-13 21:06:34 [scrapy.extensions.telnet] INFO: Telnet Password: 67ddfef5b2dc2e5b\n",
      "2023-03-13 21:06:34 [scrapy.middleware] INFO: Enabled extensions:\n",
      "['scrapy.extensions.corestats.CoreStats',\n",
      " 'scrapy.extensions.telnet.TelnetConsole',\n",
      " 'scrapy.extensions.memusage.MemoryUsage',\n",
      " 'scrapy.extensions.feedexport.FeedExporter',\n",
      " 'scrapy.extensions.logstats.LogStats']\n",
      "2023-03-13 21:06:34 [scrapy.middleware] INFO: Enabled downloader middlewares:\n",
      "['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',\n",
      " 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',\n",
      " 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',\n",
      " 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',\n",
      " 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',\n",
      " 'scrapy.downloadermiddlewares.retry.RetryMiddleware',\n",
      " 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',\n",
      " 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',\n",
      " 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',\n",
      " 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',\n",
      " 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',\n",
      " 'scrapy.downloadermiddlewares.stats.DownloaderStats']\n",
      "2023-03-13 21:06:34 [scrapy.middleware] INFO: Enabled spider middlewares:\n",
      "['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',\n",
      " 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',\n",
      " 'scrapy.spidermiddlewares.referer.RefererMiddleware',\n",
      " 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',\n",
      " 'scrapy.spidermiddlewares.depth.DepthMiddleware']\n",
      "2023-03-13 21:06:34 [scrapy.middleware] INFO: Enabled item pipelines:\n",
      "[]\n",
      "2023-03-13 21:06:34 [scrapy.core.engine] INFO: Spider opened\n",
      "2023-03-13 21:06:35 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)\n",
      "2023-03-13 21:06:35 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6024\n",
      "2023-03-13 21:06:35 [filelock] DEBUG: Attempting to acquire lock 140297797623568 on /Users/dilyanyordanov/.cache/python-tldextract/3.9.12.final__anaconda3__b75add__tldextract-3.2.0/publicsuffix.org-tlds/de84b5ca2167d4c83e38fb162f2e8738.tldextract.json.lock\n",
      "2023-03-13 21:06:35 [filelock] DEBUG: Lock 140297797623568 acquired on /Users/dilyanyordanov/.cache/python-tldextract/3.9.12.final__anaconda3__b75add__tldextract-3.2.0/publicsuffix.org-tlds/de84b5ca2167d4c83e38fb162f2e8738.tldextract.json.lock\n",
      "2023-03-13 21:06:35 [filelock] DEBUG: Attempting to acquire lock 140297797776624 on /Users/dilyanyordanov/.cache/python-tldextract/3.9.12.final__anaconda3__b75add__tldextract-3.2.0/urls/62bf135d1c2f3d4db4228b9ecaf507a2.tldextract.json.lock\n",
      "2023-03-13 21:06:35 [filelock] DEBUG: Lock 140297797776624 acquired on /Users/dilyanyordanov/.cache/python-tldextract/3.9.12.final__anaconda3__b75add__tldextract-3.2.0/urls/62bf135d1c2f3d4db4228b9ecaf507a2.tldextract.json.lock\n",
      "2023-03-13 21:06:35 [filelock] DEBUG: Attempting to release lock 140297797776624 on /Users/dilyanyordanov/.cache/python-tldextract/3.9.12.final__anaconda3__b75add__tldextract-3.2.0/urls/62bf135d1c2f3d4db4228b9ecaf507a2.tldextract.json.lock\n",
      "2023-03-13 21:06:35 [filelock] DEBUG: Lock 140297797776624 released on /Users/dilyanyordanov/.cache/python-tldextract/3.9.12.final__anaconda3__b75add__tldextract-3.2.0/urls/62bf135d1c2f3d4db4228b9ecaf507a2.tldextract.json.lock\n",
      "2023-03-13 21:06:35 [filelock] DEBUG: Attempting to release lock 140297797623568 on /Users/dilyanyordanov/.cache/python-tldextract/3.9.12.final__anaconda3__b75add__tldextract-3.2.0/publicsuffix.org-tlds/de84b5ca2167d4c83e38fb162f2e8738.tldextract.json.lock\n",
      "2023-03-13 21:06:35 [filelock] DEBUG: Lock 140297797623568 released on /Users/dilyanyordanov/.cache/python-tldextract/3.9.12.final__anaconda3__b75add__tldextract-3.2.0/publicsuffix.org-tlds/de84b5ca2167d4c83e38fb162f2e8738.tldextract.json.lock\n",
      "2023-03-13 21:06:35 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://www.jobs.bg/robots.txt> (referer: None)\n",
      "2023-03-13 21:06:35 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python> (referer: None)\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Python Developer (Remote or In-office or Hybrid)'], 'company_name': 'СТРАЙПС ЕООД', 'location': '', 'number_of_employees': ['\\n           ', '\\n            630 служители;\\xa0        ', '\\n           ', '\\n            630 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            В България от 2008        '], 'todays_date': '2023-03-13', 'date_posted': '2023-03-13', 'job_url': 'https://www.jobs.bg/job/6753433', 'work_from_home': [' Дистанционна работа'], 'skills_list': ['Python', 'Linux', 'C/C++'], 'skills_no_img': ''}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Data Specialist Intern'], 'company_name': 'АТОС БЪЛГАРИЯ КОМПЕТЪНСИ ЦЕНТЪР ЕООД', 'location': 'София', 'number_of_employees': ['\\n           ', '\\n            530 служители        '], 'todays_date': '2023-03-13', 'date_posted': '2023-03-13', 'job_url': 'https://www.jobs.bg/job/6753101', 'work_from_home': ['Home Office Possible'], 'skills_list': ['Английски', 'Python'], 'skills_no_img': ''}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Data Engineer'], 'company_name': 'Офериста Груп България ЕАД', 'location': 'София', 'number_of_employees': ['\\n           ', '\\n            35 служители;\\xa0        ', '\\n           ', '\\n            30 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            В България от 2013        '], 'todays_date': '2023-03-13', 'date_posted': '2023-03-13', 'job_url': 'https://www.jobs.bg/job/6729194', 'work_from_home': ['Home Office Possible', 'Online Interview'], 'skills_list': ['Power BI', 'Tableau', 'SQL', 'Python'], 'skills_no_img': ['BI', 'Data Warehouse', 'ETL', 'Data Visualization']}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['DevOps Engineer'], 'company_name': 'Офериста Груп България ЕАД', 'location': 'София', 'number_of_employees': ['\\n           ', '\\n            35 служители;\\xa0        ', '\\n           ', '\\n            30 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            В България от 2013        '], 'todays_date': '2023-03-13', 'date_posted': '2023-03-13', 'job_url': 'https://www.jobs.bg/job/6740231', 'work_from_home': ['Home Office Possible', 'Online Interview'], 'skills_list': ['AWS', 'Terraform', 'Ansible', 'Linux', 'Python', 'SQL', 'MySQL'], 'skills_no_img': ['Firewall/WAF', 'Shell Scripts']}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Senior CAD (EDA) Engineer'], 'company_name': 'MELEXIS BULGARIA', 'location': 'София', 'number_of_employees': [], 'todays_date': '2023-03-13', 'date_posted': '10.03.23', 'job_url': 'https://www.jobs.bg/job/6748683', 'work_from_home': ['Home Office Possible', 'Online Interview'], 'skills_list': ['Python'], 'skills_no_img': ['CAD', 'Shell Scripts']}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['IT Security Analyst'], 'company_name': 'GfK Bulgaria, Market Research Institute', 'location': 'София', 'number_of_employees': ['\\n           ', '\\n            830 служители;\\xa0        ', '\\n           ', '\\n            200 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            В България от 1994        '], 'todays_date': '2023-03-13', 'date_posted': '10.03.23', 'job_url': 'https://www.jobs.bg/job/6748657', 'work_from_home': ['Home Office Possible', 'Online Interview'], 'skills_list': ['Английски', 'Java', 'ASP.NET', 'Python', 'Jira', 'Confluence', 'AWS', 'GCP', 'Docker', 'Kubernetes'], 'skills_no_img': ['Shell Scripts', 'Firewall/WAF', 'Pentesting']}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Data Engineer'], 'company_name': 'KBC Global Services BG', 'location': 'Варна', 'number_of_employees': ['\\n           ', '\\n            В България от 2019        '], 'todays_date': '2023-03-13', 'date_posted': '10.03.23', 'job_url': 'https://www.jobs.bg/job/6748374', 'work_from_home': ['Home Office Possible', 'Online Interview'], 'skills_list': ['Python', 'Jenkins', 'Docker', 'AWS'], 'skills_no_img': ''}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Data Engineer'], 'company_name': 'KBC Global Services BG', 'location': 'София', 'number_of_employees': ['\\n           ', '\\n            В България от 2019        '], 'todays_date': '2023-03-13', 'date_posted': '10.03.23', 'job_url': 'https://www.jobs.bg/job/6748350', 'work_from_home': ['Home Office Possible', 'Online Interview'], 'skills_list': ['Английски', 'Python', 'Jenkins', 'Docker', 'AWS'], 'skills_no_img': ''}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Rookie to Data Engineer Rockstar'], 'company_name': 'MentorMate Bulgaria Ltd.', 'location': 'София', 'number_of_employees': ['\\n           ', '\\n            800 служители;\\xa0        ', '\\n           ', '\\n            850 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            В България от 2006        '], 'todays_date': '2023-03-13', 'date_posted': '10.03.23', 'job_url': 'https://www.jobs.bg/job/6747734', 'work_from_home': ['Home Office Possible', 'Online Interview'], 'skills_list': ['Spark', 'Power BI', 'Tableau', 'AWS', 'Azure', 'Python', 'SQL', 'Scala'], 'skills_no_img': ['Data Visualization', 'BI']}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Rookie to Data Engineer Rockstar'], 'company_name': 'MentorMate Bulgaria Ltd.', 'location': '', 'number_of_employees': ['\\n           ', '\\n            800 служители;\\xa0        ', '\\n           ', '\\n            850 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            В България от 2006        '], 'todays_date': '2023-03-13', 'date_posted': '09.03.23', 'job_url': 'https://www.jobs.bg/job/6743270', 'work_from_home': ['Online Interview', 'Online Interview'], 'skills_list': ['Spark', 'Power BI', 'Tableau', 'AWS', 'Azure', 'Python', 'SQL'], 'skills_no_img': ['BI']}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Business Intelligence Analyst'], 'company_name': 'Хемисфиър Комърс ЕООД', 'location': 'София', 'number_of_employees': ['\\n           ', '\\n            25 служители;\\xa0        ', '\\n           ', '\\n            20 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            В България от 2014        '], 'todays_date': '2023-03-13', 'date_posted': '09.03.23', 'job_url': 'https://www.jobs.bg/job/6747414', 'work_from_home': ['Home Office Possible', 'Online Interview'], 'skills_list': ['Английски', 'MySQL', 'SQL', 'Python'], 'skills_no_img': ['ETL']}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Rookie to Software Engineer Rockstar'], 'company_name': 'MentorMate Bulgaria Ltd.', 'location': 'София', 'number_of_employees': ['\\n           ', '\\n            800 служители;\\xa0        ', '\\n           ', '\\n            850 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            В България от 2006        '], 'todays_date': '2023-03-13', 'date_posted': '09.03.23', 'job_url': 'https://www.jobs.bg/job/6743430', 'work_from_home': ['Home Office Possible', 'Online Interview'], 'skills_list': ['Spark', 'Power BI', 'Tableau', 'AWS', 'Azure', 'Python', 'SQL', 'Scala'], 'skills_no_img': ['Data Visualization', 'BI']}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['KUBERNETES OPERATIONS ENGINEER WITH PYTHON'], 'company_name': 'Schwarz Global Services Bulgaria EOOD', 'location': 'София', 'number_of_employees': ['\\n           ', '\\n            450 служители;\\xa0        ', '\\n           ', '\\n            430 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            Основана 2020        '], 'todays_date': '2023-03-13', 'date_posted': '09.03.23', 'job_url': 'https://www.jobs.bg/job/6746537', 'work_from_home': ['Home Office Possible', 'Online Interview'], 'skills_list': ['Kubernetes', 'Python', 'VMware', 'Golang'], 'skills_no_img': ''}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Automation QA Engineer'], 'company_name': 'Hilscher Development and Test Center Ltd', 'location': 'Варна', 'number_of_employees': ['\\n           ', '\\n            50 служители;\\xa0        ', '\\n           ', '\\n            50 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            В България от 2007        '], 'todays_date': '2023-03-13', 'date_posted': '09.03.23', 'job_url': 'https://www.jobs.bg/job/6718564', 'work_from_home': ['Home Office Possible'], 'skills_list': ['TypeScript', 'JavaScript', 'Python', 'C#', 'Selenium'], 'skills_no_img': ''}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Electronic System Test Engineer'], 'company_name': 'ЛИБХЕР - ХАУСГЕРЕТЕ МАРИЦА ЕООД', 'location': 'Радиново', 'number_of_employees': ['\\n           ', '\\n            В България от 2000        '], 'todays_date': '2023-03-13', 'date_posted': '08.03.23', 'job_url': 'https://www.jobs.bg/job/6745212', 'work_from_home': ['Home Office Possible'], 'skills_list': ['Английски', 'Немски', 'Python', 'Jira', 'Confluence'], 'skills_no_img': ''}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Lead Technical Artist - New Project - CA Sofia'], 'company_name': 'Creative Assembly Sofia / SEGA Black Sea Ltd.', 'location': 'София', 'number_of_employees': ['\\n           ', '\\n            300 служители;\\xa0        ', '\\n           ', '\\n            В България от 2017        '], 'todays_date': '2023-03-13', 'date_posted': '08.03.23', 'job_url': 'https://www.jobs.bg/job/6744695', 'work_from_home': ['Home Office Possible'], 'skills_list': ['Python', 'Unreal', 'C#', 'C/C++'], 'skills_no_img': ''}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Technical Animator/ Rigger - New Project - CA Sofia'], 'company_name': 'Creative Assembly Sofia / SEGA Black Sea Ltd.', 'location': 'София', 'number_of_employees': ['\\n           ', '\\n            300 служители;\\xa0        ', '\\n           ', '\\n            В България от 2017        '], 'todays_date': '2023-03-13', 'date_posted': '08.03.23', 'job_url': 'https://www.jobs.bg/job/6744698', 'work_from_home': ['Home Office Possible'], 'skills_list': ['Python', 'Unreal'], 'skills_no_img': ''}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Data Engineer'], 'company_name': 'GfK Bulgaria, Market Research Institute', 'location': 'София', 'number_of_employees': ['\\n           ', '\\n            830 служители;\\xa0        ', '\\n           ', '\\n            200 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            В България от 1994        '], 'todays_date': '2023-03-13', 'date_posted': '08.03.23', 'job_url': 'https://www.jobs.bg/job/6744021', 'work_from_home': ['Home Office Possible'], 'skills_list': ['Python', 'AWS', 'Azure', 'Java', 'Scala', 'Spark', 'SQL', 'Terraform'], 'skills_no_img': ''}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Junior Data Engineer'], 'company_name': 'UNIQA SOFTWARE - SERVICE BULGARIA Ltd.', 'location': 'Пловдив', 'number_of_employees': ['\\n           ', '\\n            80 служители;\\xa0        ', '\\n           ', '\\n            80 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            В България от 2007        '], 'todays_date': '2023-03-13', 'date_posted': '08.03.23', 'job_url': 'https://www.jobs.bg/job/6743899', 'work_from_home': ['Home Office Possible', 'Online Interview'], 'skills_list': ['Java', 'SQL', 'Scala', 'Python', 'Spark', 'Hadoop', 'Hive'], 'skills_no_img': ''}\n",
      "2023-03-13 21:06:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://www.jobs.bg/front_job_search.php?subm=1&categories%5B%5D=56&techs%5B%5D=Python>\n",
      "{'position': ['Data Engineer'], 'company_name': 'UNIQA SOFTWARE - SERVICE BULGARIA Ltd.', 'location': 'Пловдив', 'number_of_employees': ['\\n           ', '\\n            80 служители;\\xa0        ', '\\n           ', '\\n            80 ИТ специалисти;\\xa0        ', '\\n           ', '\\n            В България от 2007        '], 'todays_date': '2023-03-13', 'date_posted': '08.03.23', 'job_url': 'https://www.jobs.bg/job/6743904', 'work_from_home': ['Home Office Possible', 'Online Interview'], 'skills_list': ['Java', 'Scala', 'Python', 'SQL', 'Spark', 'Hadoop', 'Hive'], 'skills_no_img': ''}\n",
      "2023-03-13 21:06:35 [scrapy.core.engine] INFO: Closing spider (finished)\n",
      "2023-03-13 21:06:35 [scrapy.extensions.feedexport] INFO: Stored json feed (20 items) in: items.json\n",
      "2023-03-13 21:06:35 [scrapy.statscollectors] INFO: Dumping Scrapy stats:\n",
      "{'downloader/request_bytes': 896,\n",
      " 'downloader/request_count': 2,\n",
      " 'downloader/request_method_count/GET': 2,\n",
      " 'downloader/response_bytes': 72281,\n",
      " 'downloader/response_count': 2,\n",
      " 'downloader/response_status_count/200': 2,\n",
      " 'elapsed_time_seconds': 0.226675,\n",
      " 'feedexport/success_count/FileFeedStorage': 1,\n",
      " 'finish_reason': 'finished',\n",
      " 'finish_time': datetime.datetime(2023, 3, 13, 19, 6, 35, 236452),\n",
      " 'httpcompression/response_bytes': 346659,\n",
      " 'httpcompression/response_count': 1,\n",
      " 'item_scraped_count': 20,\n",
      " 'log_count/DEBUG': 31,\n",
      " 'log_count/INFO': 11,\n",
      " 'memusage/max': 64135168,\n",
      " 'memusage/startup': 64131072,\n",
      " 'response_received_count': 2,\n",
      " 'robotstxt/request_count': 1,\n",
      " 'robotstxt/response_count': 1,\n",
      " 'robotstxt/response_status_count/200': 1,\n",
      " 'scheduler/dequeued': 1,\n",
      " 'scheduler/dequeued/memory': 1,\n",
      " 'scheduler/enqueued': 1,\n",
      " 'scheduler/enqueued/memory': 1,\n",
      " 'start_time': datetime.datetime(2023, 3, 13, 19, 6, 35, 9777)}\n",
      "2023-03-13 21:06:35 [scrapy.core.engine] INFO: Spider closed (finished)\n"
     ]
    }
   ],
   "source": [
    "!scrapy crawl scraper_name"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 339,
   "id": "cf6dd26d",
   "metadata": {},
   "outputs": [],
   "source": [
    "df = pd.read_json(\"items.json\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 343,
   "id": "952b9cad",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>position</th>\n",
       "      <th>company_name</th>\n",
       "      <th>location</th>\n",
       "      <th>number_of_employees</th>\n",
       "      <th>todays_date</th>\n",
       "      <th>date_posted</th>\n",
       "      <th>job_url</th>\n",
       "      <th>work_from_home</th>\n",
       "      <th>skills_list</th>\n",
       "      <th>skills_no_img</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>[Python Developer (Remote or In-office or Hybr...</td>\n",
       "      <td>СТРАЙПС ЕООД</td>\n",
       "      <td></td>\n",
       "      <td>[\\n           , \\n            630 служители;  ...</td>\n",
       "      <td>2023-03-13</td>\n",
       "      <td>2023-03-13</td>\n",
       "      <td>https://www.jobs.bg/job/6753433</td>\n",
       "      <td>[ Дистанционна работа]</td>\n",
       "      <td>[Python, Linux, C/C++]</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>[Data Specialist Intern]</td>\n",
       "      <td>АТОС БЪЛГАРИЯ КОМПЕТЪНСИ ЦЕНТЪР ЕООД</td>\n",
       "      <td>София</td>\n",
       "      <td>[\\n           , \\n            530 служители   ...</td>\n",
       "      <td>2023-03-13</td>\n",
       "      <td>2023-03-13</td>\n",
       "      <td>https://www.jobs.bg/job/6753101</td>\n",
       "      <td>[Home Office Possible]</td>\n",
       "      <td>[Английски, Python]</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>[Data Engineer]</td>\n",
       "      <td>Офериста Груп България ЕАД</td>\n",
       "      <td>София</td>\n",
       "      <td>[\\n           , \\n            35 служители;   ...</td>\n",
       "      <td>2023-03-13</td>\n",
       "      <td>2023-03-13</td>\n",
       "      <td>https://www.jobs.bg/job/6729194</td>\n",
       "      <td>[Home Office Possible, Online Interview]</td>\n",
       "      <td>[Power BI, Tableau, SQL, Python]</td>\n",
       "      <td>[BI, Data Warehouse, ETL, Data Visualization]</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>[DevOps Engineer]</td>\n",
       "      <td>Офериста Груп България ЕАД</td>\n",
       "      <td>София</td>\n",
       "      <td>[\\n           , \\n            35 служители;   ...</td>\n",
       "      <td>2023-03-13</td>\n",
       "      <td>2023-03-13</td>\n",
       "      <td>https://www.jobs.bg/job/6740231</td>\n",
       "      <td>[Home Office Possible, Online Interview]</td>\n",
       "      <td>[AWS, Terraform, Ansible, Linux, Python, SQL, ...</td>\n",
       "      <td>[Firewall/WAF, Shell Scripts]</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>[Senior CAD (EDA) Engineer]</td>\n",
       "      <td>MELEXIS BULGARIA</td>\n",
       "      <td>София</td>\n",
       "      <td>[]</td>\n",
       "      <td>2023-03-13</td>\n",
       "      <td>10.03.23</td>\n",
       "      <td>https://www.jobs.bg/job/6748683</td>\n",
       "      <td>[Home Office Possible, Online Interview]</td>\n",
       "      <td>[Python]</td>\n",
       "      <td>[CAD, Shell Scripts]</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                            position  \\\n",
       "0  [Python Developer (Remote or In-office or Hybr...   \n",
       "1                           [Data Specialist Intern]   \n",
       "2                                    [Data Engineer]   \n",
       "3                                  [DevOps Engineer]   \n",
       "4                        [Senior CAD (EDA) Engineer]   \n",
       "\n",
       "                           company_name location  \\\n",
       "0                          СТРАЙПС ЕООД            \n",
       "1  АТОС БЪЛГАРИЯ КОМПЕТЪНСИ ЦЕНТЪР ЕООД    София   \n",
       "2            Офериста Груп България ЕАД    София   \n",
       "3            Офериста Груп България ЕАД    София   \n",
       "4                      MELEXIS BULGARIA    София   \n",
       "\n",
       "                                 number_of_employees todays_date date_posted  \\\n",
       "0  [\\n           , \\n            630 служители;  ...  2023-03-13  2023-03-13   \n",
       "1  [\\n           , \\n            530 служители   ...  2023-03-13  2023-03-13   \n",
       "2  [\\n           , \\n            35 служители;   ...  2023-03-13  2023-03-13   \n",
       "3  [\\n           , \\n            35 служители;   ...  2023-03-13  2023-03-13   \n",
       "4                                                 []  2023-03-13    10.03.23   \n",
       "\n",
       "                           job_url                            work_from_home  \\\n",
       "0  https://www.jobs.bg/job/6753433                    [ Дистанционна работа]   \n",
       "1  https://www.jobs.bg/job/6753101                    [Home Office Possible]   \n",
       "2  https://www.jobs.bg/job/6729194  [Home Office Possible, Online Interview]   \n",
       "3  https://www.jobs.bg/job/6740231  [Home Office Possible, Online Interview]   \n",
       "4  https://www.jobs.bg/job/6748683  [Home Office Possible, Online Interview]   \n",
       "\n",
       "                                         skills_list  \\\n",
       "0                             [Python, Linux, C/C++]   \n",
       "1                                [Английски, Python]   \n",
       "2                   [Power BI, Tableau, SQL, Python]   \n",
       "3  [AWS, Terraform, Ansible, Linux, Python, SQL, ...   \n",
       "4                                           [Python]   \n",
       "\n",
       "                                   skills_no_img  \n",
       "0                                                 \n",
       "1                                                 \n",
       "2  [BI, Data Warehouse, ETL, Data Visualization]  \n",
       "3                  [Firewall/WAF, Shell Scripts]  \n",
       "4                           [CAD, Shell Scripts]  "
      ]
     },
     "execution_count": 343,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 341,
   "id": "656dac5a",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "position               object\n",
       "company_name           object\n",
       "location               object\n",
       "number_of_employees    object\n",
       "todays_date            object\n",
       "date_posted            object\n",
       "job_url                object\n",
       "work_from_home         object\n",
       "skills_list            object\n",
       "skills_no_img          object\n",
       "dtype: object"
      ]
     },
     "execution_count": 341,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.dtypes"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 349,
   "id": "25ca3eac",
   "metadata": {},
   "outputs": [],
   "source": [
    "# Convert the two dates to datetime format\n",
    "df['todays_date'] = pd.to_datetime(df['todays_date'])                                  \n",
    "df['date_posted'] = pd.to_datetime(df['date_posted'])                 "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 350,
   "id": "cfb1d14d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "position                       object\n",
       "company_name                   object\n",
       "location                       object\n",
       "number_of_employees            object\n",
       "todays_date            datetime64[ns]\n",
       "date_posted            datetime64[ns]\n",
       "job_url                        object\n",
       "work_from_home                 object\n",
       "skills_list                    object\n",
       "skills_no_img                  object\n",
       "dtype: object"
      ]
     },
     "execution_count": 350,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.dtypes"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 354,
   "id": "a5edebe4",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "True     13\n",
       "False     7\n",
       "Name: location, dtype: int64"
      ]
     },
     "execution_count": 354,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "(df['location'] == \"София\").value_counts()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "2a38088d",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.9.12"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
